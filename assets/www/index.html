<!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>GeoLocation Service</title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.css" />
        <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
        <script src="http://code.jquery.com/mobile/1.3.0/jquery.mobile-1.3.0.min.js"></script>
        <script src="js/index.js"></script>
    </head>
    
    <body>
        <div data-role="page" data-theme="b" id="page1">
            <div data-role="header">
                	<h1> GeoLocation Service </h1>

            </div>
            <div data-role="content">
                <form data-transition="flow" id="activationForm" style="display:none">
                    <div data-role="fieldcontainer">
                        <label for="activationPin">Enter Activation Pin</label>
                        <input type="number" name="activationPin" id="activationPin" value placeholder="1000000000" pattern="[0-9]{5}" min="1" max="10000" />
                    </div>
                    <div id="submitPin" data-role="fieldcontain">
                        <input type="submit" value="submit" data-inline="true" />
                    </div>
                </form>
                <ul data-role="listview" style="display:none" id="statusView">
                    <li>Latitude	<span class="ui-li-aside" id="lat">0</span>

                    </li>
                    <li>Longitude	<span class="ui-li-aside" id="lon">0</span>

                    </li>
                    <li>UserId <span class="ui-li-aside" id="userId">0</span>

                    </li>
                    <li>Status	<span class="ui-li-aside" id="status">0</span>

                    </li>
                </ul>
            </div>
            <div data-role="footer"></div>
            <script>
                if (window.localStorage.userId != null) {
                    $('#activationForm').hide();

                    $('#statusView').show();

                    updateUserPostion();

                } else {

                    $('#activationForm').show();

                    $('#statusView').hide();

                }

                $('#activationForm').submit(function () {

                    window.localStorage.userId = $('#activationPin').val();

                    $('#activationForm').hide();

                    $('#statusView').show();

                    updateUserPostion();

                    return false;
                });
            </script>
        </div>
    </body>

</html>